<!DOCTYPE html>
<html>

<head>
  <title>Leaflet.DistortableImage Example</title>
  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script src="../node_modules/leaflet/dist/leaflet.js" type="text/javascript" charset="utf-8"></script>
  <link href="../node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../node_modules/leaflet/dist/leaflet.css" type="text/css" media="screen" title="no title"
    charset="utf-8" />
  <script src="../node_modules/leaflet-toolbar/dist/leaflet.toolbar.js"></script>
  <link href="../node_modules/leaflet-toolbar/dist/leaflet.toolbar.css" rel="stylesheet" />
  <!-- for pattern-mining utility -->
  <script src="../node_modules/matcher-core/orb.core.com.js"></script>
  <!-- for UI projection -->
  <script src="../src/util/projector.js"></script>
  <script src="../src/util/stitcher.js"></script>
  <script src="../src/util/init_.js"></script>
  <script src="../src/util/init.js"></script>
  <!-- for full-res export -->
  <script src="../node_modules/jquery/dist/jquery.js"></script>
  <script src="../node_modules/webgl-distort/dist/webgl-distort.js"></script>
  <script src="../node_modules/glfx/glfx.js"></script>

  <!-- for EXIF geocode -->
  <script type="text/javascript" src="../node_modules/exif-js/exif.js"></script>

  <link rel="stylesheet" href="../dist/leaflet.distortableimage.css" type="text/css" media="screen" title="no title"
    charset="utf-8" />
  <script src="../dist/leaflet.distortableimage.js"></script>
</head>

<body>
  <center>
    <div class="loader-container">
      <img width="100" src="leaflet.gif">
    </div>
  </center>
  <form id="test_form">
    <input type="file" id="inputimage" accept="image/*" />
  </form>
  <div id="map" style="width:100%; height:100%; position:absolute; top:0;"></div>
</body>

<script>

  paths = ['../node_modules/matcher-core/assets/resources/big.jpg', '../node_modules/matcher-core/assets/resources/small.jpg'];
  
  // normal
  // init_(paths);

  // normal + matcher
  Promise.resolve(new orbify(paths[0], paths[1], { // refactor this when we are ready to shift to es6 (spread operator)
    browser: true
  }).utils).then(function (utils) {
    init(utils, init_, projector, paths);
  });
</script>

</html>
